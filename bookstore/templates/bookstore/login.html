<form method="post">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-danger">
        {{ form.non_field_errors }}
    </div>
    {% endif %}

    <div class="mb-3">
        <label for="{{ form.username.id_for_label }}" class="form-label">
            Ім'я користувача
        </label>
        {{ form.username }}
        {% if form.username.errors %}
        <div class="text-danger small">{{ form.username.errors }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        <label for="{{ form.password.id_for_label }}" class="form-label">
            Пароль
        </label>
        {{ form.password }}
        {% if form.password.errors %}
        <div class="text-danger small">{{ form.password.errors }}</div>
        {% endif %}
    </div>

    {# Додаємо приховане поле next #}
    <input type="hidden" name="next" value="{{ next }}">

    <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary btn-lg">
            <i class="fas fa-sign-in-alt"></i> Увійти
        </button>
    </div>
</form>
